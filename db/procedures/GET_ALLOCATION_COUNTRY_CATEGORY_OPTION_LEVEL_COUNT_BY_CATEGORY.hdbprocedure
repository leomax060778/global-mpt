PROCEDURE "MKTG_PLANNING_TOOL"."mktgplanningtool.db.procedures::GET_ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL_COUNT_BY_CATEGORY" (
	IN in_category_id bigint,
	OUT out_result integer
	)
	LANGUAGE SQLSCRIPT
	SQL SECURITY INVOKER
	DEFAULT SCHEMA "MKTG_PLANNING_TOOL" AS
BEGIN
	SELECT COALESCE(COUNT(ACOL.ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL_ID), 0) INTO out_result
    FROM ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL ACOL
    INNER JOIN ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL_HL2 ACOLHL2 ON ACOL.ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL_ID = ACOLHL2.ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL_ID 
    where ACOL.allocation_category_id = in_category_id
    and ACOL.enabled = 1 and ACOL.deleted = 0;
END;
