PROCEDURE "MKTG_PLANNING_TOOL"."mktgplanningtool.db.procedures::DEL_ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL_HL2" (
	IN in_hl2_id BIGINT,
	IN in_user_id BIGINT,
	OUT out_result BIGINT)
	LANGUAGE SQLSCRIPT
	SQL SECURITY INVOKER
	DEFAULT SCHEMA "MKTG_PLANNING_TOOL"
	AS
BEGIN
	UPDATE ACOLHL2
		SET ACOLHL2.deleted = 1,
		    ACOLHL2.enabled = 0,
			ACOLHL2.modified_user_id = in_user_id,
			ACOLHL2.modified_date_tz = CURRENT_TIMESTAMP
		FROM ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL_HL2 ACOLHL2
		INNER JOIN ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL ACOL ON ACOL.ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL_ID = ACOLHL2.ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL_ID
		    AND ACOLHL2.HL2_ID = in_hl2_id;
		    
		    
	UPDATE ACOL
		SET ACOL.deleted = 1,
            ACOL.enabled = 0,
            ACOL.modified_user_id = in_user_id,
            ACOL.modified_date_tz = CURRENT_TIMESTAMP

		FROM ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL ACOL
		INNER JOIN ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL_HL2 ACOLHL2 ON ACOL.ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL_ID = ACOLHL2.ALLOCATION_COUNTRY_CATEGORY_OPTION_LEVEL_ID
		    AND ACOLHL2.HL2_ID = in_hl2_id;
		    

		SELECT ::ROWCOUNT INTO out_result FROM DUMMY;

END;
