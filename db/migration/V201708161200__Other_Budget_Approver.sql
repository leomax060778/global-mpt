create column table "MKTG_PLANNING_TOOL"."OTHER_BUDGET_APPROVER" (
        "OTHER_BUDGET_APPROVER_ID" bigint not null primary key generated by default as IDENTITY,
        "FULL_NAME" NVARCHAR(255) NOT NULL,
        "EMAIL" NVARCHAR(255) NOT NULL,
        "CREATED_DATE_TZ" timestamp default CURRENT_TIMESTAMP,
        "MODIFIED_DATE_TZ" timestamp,
        "CREATED_USER_ID" bigint not null,
        "MODIFIED_USER_ID" bigint,
        "ENABLED" tinyint default 1,
        "DELETED" tinyint default 0,

        FOREIGN KEY ("CREATED_USER_ID") REFERENCES "MKTG_PLANNING_TOOL"."USER"("USER_ID")
);

create column table "MKTG_PLANNING_TOOL"."BUDGET_SPEND_REQUEST_OTHER_BUDGET_APPROVER" (
        "BUDGET_SPEND_REQUEST_OTHER_BUDGET_APPROVER_ID" bigint not null primary key generated by default as IDENTITY,
        "OTHER_BUDGET_APPROVER_ID" bigint not null,
        "BUDGET_SPEND_REQUEST_ID" bigint not null,
        "HASH" nvarchar(255) not null,
        "CREATED_DATE_TZ" timestamp default CURRENT_TIMESTAMP,
        "MODIFIED_DATE_TZ" timestamp,
        "CREATED_USER_ID" bigint not null,
        "MODIFIED_USER_ID" bigint,
        "ENABLED" tinyint default 1,
        "DELETED" tinyint default 0,

        FOREIGN KEY ("CREATED_USER_ID") REFERENCES "MKTG_PLANNING_TOOL"."USER"("USER_ID"),
        FOREIGN KEY ("OTHER_BUDGET_APPROVER_ID") REFERENCES "MKTG_PLANNING_TOOL"."OTHER_BUDGET_APPROVER"("OTHER_BUDGET_APPROVER_ID"),
        FOREIGN KEY ("BUDGET_SPEND_REQUEST_ID") REFERENCES "MKTG_PLANNING_TOOL"."BUDGET_SPEND_REQUEST"("BUDGET_SPEND_REQUEST_ID")
);

alter table "MKTG_PLANNING_TOOL"."BUDGET_SPEND_REQUEST_LOG_STATUS" add (OTHER_BUDGET_APPROVER_ID bigint null);
ALTER TABLE "MKTG_PLANNING_TOOL"."BUDGET_SPEND_REQUEST_LOG_STATUS" ADD FOREIGN KEY ( "OTHER_BUDGET_APPROVER_ID" ) REFERENCES "MKTG_PLANNING_TOOL"."OTHER_BUDGET_APPROVER" ("OTHER_BUDGET_APPROVER_ID") ON UPDATE RESTRICT ON DELETE RESTRICT

-----------------------------------------
-- Update schema version
INSERT INTO SCHEMA_VERSION(VERSION, DESCRIPTION, SCRIPT)
VALUES('V5.0.0-56', 'Other Budget Approver', 'V201708161200__Other_Budget_Approver.sql');

COMMIT;