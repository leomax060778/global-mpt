CREATE COLUMN TABLE "MKTG_PLANNING_TOOL"."HL4_CRM_ACRONYM" (
     "HL4_CRM_ACRONYM_ID" BIGINT CS_FIXED GENERATED BY DEFAULT AS IDENTITY NOT NULL ,
	 "ACRONYM" NVARCHAR(3) NOT NULL ,
	 "CRM_DESCRIPTION" NVARCHAR(100) NOT NULL ,
	 "DETAILS" NVARCHAR(3000) NOT NULL ,
	 "BUSINESS_DETAILS" NVARCHAR(3000) NOT NULL ,
	 "HL3_CRM_ACRONYM_ID" BIGINT,
	 "CREATED_USER_ID" BIGINT CS_FIXED NOT NULL ,
	 "MODIFIED_USER_ID" BIGINT CS_FIXED,
	 "ENABLED" TINYINT CS_INT DEFAULT 1,
	 "DELETED" TINYINT CS_INT DEFAULT 0,
	 "CREATED_DATE_TZ" LONGDATE CS_LONGDATE DEFAULT CURRENT_TIMESTAMP,
	 "MODIFIED_DATE_TZ" LONGDATE CS_LONGDATE,
	 PRIMARY KEY ("HL4_CRM_ACRONYM_ID")) UNLOAD PRIORITY 5 AUTO MERGE
;
ALTER TABLE "MKTG_PLANNING_TOOL"."HL4_CRM_ACRONYM" ADD FOREIGN KEY ( "CREATED_USER_ID" ) REFERENCES "MKTG_PLANNING_TOOL"."USER" ("USER_ID") ON UPDATE RESTRICT ON DELETE RESTRICT;
ALTER TABLE "MKTG_PLANNING_TOOL"."HL4_CRM_ACRONYM" ADD FOREIGN KEY ( "HL3_CRM_ACRONYM_ID" ) REFERENCES "MKTG_PLANNING_TOOL"."HL3_CRM_ACRONYM" ("HL3_CRM_ACRONYM_ID") ON UPDATE RESTRICT ON DELETE RESTRICT
;

CREATE COLUMN TABLE "MKTG_PLANNING_TOOL"."HL3_CRM_ACRONYM" (
     "HL3_CRM_ACRONYM_ID" BIGINT CS_FIXED GENERATED BY DEFAULT AS IDENTITY NOT NULL ,
	 "ACRONYM" NVARCHAR(3) NOT NULL ,
	 "CRM_DESCRIPTION" NVARCHAR(100) NOT NULL ,
	 "CREATED_USER_ID" BIGINT CS_FIXED NOT NULL ,
	 "MODIFIED_USER_ID" BIGINT CS_FIXED,
	 "ENABLED" TINYINT CS_INT DEFAULT 1,
	 "DELETED" TINYINT CS_INT DEFAULT 0,
	 "CREATED_DATE_TZ" LONGDATE CS_LONGDATE DEFAULT CURRENT_TIMESTAMP,
	 "MODIFIED_DATE_TZ" LONGDATE CS_LONGDATE,
	 PRIMARY KEY ("HL3_CRM_ACRONYM_ID")) UNLOAD PRIORITY 5 AUTO MERGE
;
ALTER TABLE "MKTG_PLANNING_TOOL"."HL3_CRM_ACRONYM" ADD FOREIGN KEY ( "CREATED_USER_ID" ) REFERENCES "MKTG_PLANNING_TOOL"."USER" ("USER_ID") ON UPDATE RESTRICT ON DELETE RESTRICT
;


-- *************************************************************************************
-- Update schema version
INSERT INTO SCHEMA_VERSION(VERSION, DESCRIPTION, SCRIPT)
VALUES('V5.0.0-83', 'Manage Acronym to L3 and L4', 'V201711081136__Acronym_L3_L4.sql');

COMMIT;